# Автоматическая настройка Anki

В приложении реализована полная автоматическая настройка Anki при запуске. Это избавляет пользователя от необходимости вручную создавать типы записей и настраивать карточки.

## Как это работает

При каждом запуске приложение проверяет наличие в Anki специального типа записи (модели). Если он отсутствует, программа создает его автоматически через AnkiConnect.

### Создаваемый тип записи (Note Type)

*   **Название модели:** `YouTube` (константа `MODEL_NAME` в коде)

#### Поля (Fields):
Модель содержит следующие поля в строгом порядке:
1.  **Phrase** — Немецкая фраза или слово.
2.  **Translation** — Перевод на русский язык.
3.  **Context** — Грамматический разбор, примеры, пояснения.
4.  **Sound** — Поле для аудиофайла озвучки.

#### Шаблоны карточек (Templates):

Создается один шаблон карточки **"Card 1"**:

*   **Лицевая сторона (Front):**
    *   Показывается немецкая фраза (`{{Phrase}}`).
    *   Воспроизводится аудио (`{{Sound}}`).

*   **Оборотная сторона (Back):**
    *   Повторяется фраза (`{{Phrase}}`).
    *   Горизонтальная черта разделения.
    *   Перевод (`{{Translation}}`).
    *   Блок контекста/пояснений (`{{Context}}`).

#### Стилизация (CSS):

К карточкам автоматически применяются CSS-стили для красивого отображения:
*   **Шрифт:** Segoe UI, Roboto, Helvetica, Arial.
*   **Цвета:** 
    *   Фраза: темно-синий (`#1f538d`).
    *   Перевод: зеленый (`#27ae60`).
    *   Контекст: серый курсив (`#7f8c8d`) на светлом фоне.
*   **Адаптивность:** Текст центрирован, блоки имеют отступы и границы.

## Использование в коде

Логика настройки находится в файле `api/anki_api.py`, метод `setup_model()`.
Этот метод вызывается фоновым потоком `load_background_data_worker` в файле `main.py` при старте приложения, что гарантирует готовность Anki к работе сразу после загрузки интерфейса.
